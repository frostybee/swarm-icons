---
title: Fluent API
description: Reference for the Icon value object's fluent method chain . size, class, fill, stroke, attr, and more.
---

`Icon` is an immutable `Stringable` value object. Every fluent method returns a **new instance** . the original is never modified. This makes it safe to pass icons around and apply different attributes in different contexts.

## Getting an Icon

```php
// From the manager
$icon = $manager->get('heroicons:home');

// With initial attributes
$icon = $manager->get('heroicons:home', ['class' => 'w-6 h-6']);

// Via the global helper
$icon = swarm_icon('heroicons:home');  // renders immediately (returns string)
// For the fluent API, use $manager->get() instead
```

## Fluent Methods

### `size(int|string $size)`

Sets both `width` and `height` attributes:

```php
$icon->size(24);     // width="24" height="24"
$icon->size('1rem'); // width="1rem" height="1rem"
```

### `class(string $class)`

Appends CSS classes (never replaces):

```php
$icon->class('text-blue-500');
$icon->class('w-6 h-6')->class('active');  // "w-6 h-6 active"
```

### `fill(string $fill)`

Sets the `fill` attribute:

```php
$icon->fill('currentColor');
$icon->fill('none');
$icon->fill('#FFB300');
```

### `stroke(string $stroke)`

Sets the `stroke` attribute:

```php
$icon->stroke('currentColor');
$icon->stroke('none');
```

### `strokeWidth(int|float|string $width)`

Sets the `stroke-width` attribute:

```php
$icon->strokeWidth(1.5);
$icon->strokeWidth(2);
$icon->strokeWidth('0.5rem');
```

### `attr(array $attributes)`

Set one or more arbitrary attributes. Pass `null` as a value to remove an attribute:

```php
$icon->attr(['data-icon' => 'home']);
$icon->attr(['aria-label' => 'Home']);
$icon->attr(['aria-hidden' => null]);  // removes aria-hidden
```

## Chaining

All methods return a new instance, so you can chain freely:

```php
$icon = $manager->get('heroicons:home')
    ->size(32)
    ->class('text-blue-500')
    ->strokeWidth(1.5)
    ->fill('none')
    ->attr(['aria-label' => 'Home']);

echo $icon;
// <svg width="32" height="32" class="text-blue-500" stroke-width="1.5"
//      fill="none" role="img" aria-label="Home">...</svg>
```

## Immutability in Practice

Because every method returns a new instance, you can safely reuse a base icon:

```php
$base = $manager->get('heroicons:star');

$small  = $base->size(16)->class('text-gray-400');
$large  = $base->size(32)->class('text-yellow-500');
$active = $base->size(24)->class('text-yellow-400')->attr(['aria-label' => 'Favorite']);

// $base is unchanged throughout
echo $base;    // no size or class
echo $small;   // size=16, class=text-gray-400
echo $large;   // size=32, class=text-yellow-500
```

## Rendering

`Icon` implements `Stringable` . cast to string or use in a string context to get the rendered SVG:

```php
echo $icon;                     // direct echo
$svg = (string) $icon;          // explicit cast
$html = '<div>' . $icon . '</div>'; // string concatenation
```

## Serialization

`Icon` supports `__serialize`/`__unserialize` for PSR-16 cache compatibility. You can store and restore icon objects through any cache layer.

## In Twig

The fluent API is fully accessible via `get_icon()` in Twig templates:

```twig
{% set star = get_icon('tabler:star') %}
{{ star.size(24).class('text-yellow-400') }}

{{ get_icon('heroicons:home').size(20).class('nav-icon') }}
```
