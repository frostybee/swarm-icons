---
title: Configuration Reference
description: Complete reference for SwarmIconsConfig . all builder methods and options.
---

`SwarmIconsConfig` is a fluent builder that configures providers, caching, and rendering defaults. Call `build()` to get a ready-to-use `IconManager`.

```php
use Frostybee\SwarmIcons\SwarmIconsConfig;
use Frostybee\SwarmIcons\SwarmIcons;

$manager = SwarmIconsConfig::create()
    // ... chain methods ...
    ->build();

SwarmIcons::setManager($manager); // enable global swarm_icon() helper
```

## Provider Methods

### `addIconifySet(prefix, timeout?)`

Registers a live Iconify API provider. Icons are fetched over HTTP on first use and cached.

```php
->addIconifySet('heroicons')
->addIconifySet('lucide', timeout: 15)
```

### `addDirectory(prefix, path, recursive?)`

Registers a local directory of `.svg` files.

```php
->addDirectory('custom', '/path/to/svgs')
->addDirectory('flat', '/path/to/flat', recursive: false)  // default: true
```

### `addJsonCollection(prefix, path)`

Registers a pre-downloaded Iconify JSON collection file.

```php
->addJsonCollection('mdi', '/path/to/mdi.json')
```

### `addIconifyJsonSet(prefix)`

Shorthand that auto-resolves the path from the `iconify/json` Composer package.

```php
->addIconifyJsonSet('mdi')   // resolves vendor/iconify/json/json/mdi.json
```

### `addHybridSet(prefix, path, recursive?, timeout?)`

Creates a `ChainProvider`: tries a local directory first, falls back to the Iconify API.

```php
->addHybridSet('icons', '/path/to/custom/icons')
->addHybridSet('icons', '/path/to/custom/icons', recursive: true, timeout: 10)
```

## Auto-Discovery Methods

### `discoverJsonSets(path?)`

Scans a directory for `*.json` files and registers each as a `JsonCollectionProvider`.

```php
->discoverJsonSets()                        // default: resources/json/
->discoverJsonSets('/custom/json/path')
```

### `discoverPackages(vendorPath?)`

Scans `vendor/composer/installed.json` for packages declaring `extra.swarm-icons` metadata.

```php
->discoverPackages()
->discoverPackages('/custom/vendor')
```

## Cache Methods

### `cachePath(path, ttl?)`

Configures a `FileCache` at the specified path. TTL `0` = cache forever (default).

```php
->cachePath('/var/cache/icons')
->cachePath('/var/cache/icons', ttl: 3600)
```

### `cache(psr16)`

Use a custom PSR-16 cache implementation.

```php
->cache($myPsr16CacheInstance)
```

### `noCache()`

Disables caching. Every render re-fetches/re-parses. Use only in development.

```php
->noCache()
```

## Default Attribute Methods

### `defaultPrefix(prefix)`

Set a default prefix to omit the `prefix:` part when calling `get()`.

```php
->defaultPrefix('heroicons')

// Then these are equivalent:
$manager->get('home');
$manager->get('heroicons:home');
```

### `defaultAttributes(attrs)`

Apply attributes to every icon rendered by the manager.

```php
->defaultAttributes(['class' => 'icon', 'aria-hidden' => 'true'])
```

### `prefixAttributes(prefix, attrs)`

Apply attributes only to icons from a specific provider prefix.

```php
->prefixAttributes('heroicons', ['class' => 'w-6 h-6', 'stroke-width' => '1.5'])
->prefixAttributes('tabler', ['class' => 'w-5 h-5'])
```

### `prefixSuffix(prefix, suffix, attrs)`

Apply attributes to icons whose name ends with `-{suffix}`. Use an empty string `''` as a catch-all for icons with no matching suffix.

```php
->prefixSuffix('heroicons', 'solid',   ['fill' => 'currentColor'])
->prefixSuffix('heroicons', 'outline', ['stroke' => 'currentColor', 'fill' => 'none'])
->prefixSuffix('heroicons', '',        ['stroke' => 'currentColor'])  // fallback
```

## Error Handling Methods

### `fallbackIcon(iconName)`

Icon to return when the requested icon is not found (instead of throwing).

```php
->fallbackIcon('heroicons:question-mark-circle')
```

### `ignoreNotFound(bool?)`

Suppress `IconNotFoundException` . missing icons render as empty strings.

```php
->ignoreNotFound()        // defaults to true
->ignoreNotFound(true)
->ignoreNotFound(false)   // re-disable
```

### `alias(key, target)`

Map a short name to a full `prefix:icon-name` reference.

```php
->alias('check', 'heroicons:check-circle')
->alias('close', 'heroicons:x-mark')
->alias('dots',  'tabler:dots-horizontal')
```

## Attribute Merge Order

```
icon defaults → global defaults → prefix defaults → suffix defaults → caller attributes
```

CSS classes are always **appended** at each stage, never replaced.

## Complete Example

```php
$manager = SwarmIconsConfig::create()
    ->addIconifySet('heroicons')
    ->addIconifySet('lucide')
    ->addJsonCollection('mdi', __DIR__ . '/resources/mdi.json')
    ->addDirectory('custom', __DIR__ . '/resources/icons')
    ->discoverJsonSets()
    ->cachePath(__DIR__ . '/cache/icons', ttl: 86400)
    ->defaultPrefix('heroicons')
    ->defaultAttributes(['class' => 'icon'])
    ->prefixAttributes('heroicons', ['class' => 'w-6 h-6'])
    ->prefixAttributes('lucide', ['class' => 'w-5 h-5'])
    ->prefixSuffix('heroicons', 'solid',   ['fill' => 'currentColor'])
    ->prefixSuffix('heroicons', 'outline', ['stroke' => 'currentColor', 'fill' => 'none'])
    ->alias('check', 'heroicons:check-circle')
    ->alias('close', 'heroicons:x-mark')
    ->fallbackIcon('heroicons:question-mark-circle')
    ->ignoreNotFound()
    ->build();

SwarmIcons::setManager($manager);
```
